



<div class="card">
 
  <form >
    <h5 class="text-2xl font-bold text-blue-600 my-3 pl-4 ">Introduction</h5>
    <ckeditor class="ckeditor" [editor]="Editor" name="introduction" ngModel [(ngModel)]="introInput"
    [required]="true" ></ckeditor>

    <h5 class="text-2xl font-bold text-blue-600 my-3 pl-4 ">Summary</h5>
    <ckeditor class="ckeditor" [editor]="Editor" name="summary" ngModel [(ngModel)]="summaryInput"
    [required]="true" ></ckeditor>
    
<div class="card"   *ngIf="auditPrograms[0]?.status == 'Approved'">
  <h5 class="text-1xl  text-blue-600 my-3 pl-4 abdycustom"> Select Finding </h5>
  <p-table
    #dt
    [columns]="cols"
    [value]="auditFinding"
    selectionMode="single"
    [tableStyle]="{ 'min-width': '50rem' }"
    [rows]="5"
    [rowsPerPageOptions]="[5, 10, 15, 20]"
    [paginator]="true"
    stateStorage="session"
    stateKey="statedemo-session"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>
          Select: </th>
        <th pSortableColumn="area.name">
          Area <p-sortIcon field="area.name"></p-sortIcon>
        </th>
        <th pSortableColumn="auditiees">
          Auditees <p-sortIcon field="auditiees"></p-sortIcon>
        </th>  
        <th >
          Cause
        </th>   
        <th >
          Jusitification
        </th>       
        <th scope="col"></th>
      </tr>
  
    </ng-template>
    <ng-template pTemplate="body" let-auditFinding let-rowIndex="rowIndex">
      <tr [pSelectableRow]="auditFinding" >
        <td>
          <input type="checkbox" name="finding" (change)="onCheck($event, auditFinding.id)">
        </td>
        <td>{{ auditFinding.area.name}}</td>
        <td>{{ auditFinding.auditees}}</td>
        <td>{{ auditFinding.cause}}</td>
        <td>{{ auditFinding.justifications}}</td>
    
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="5">No found.</td>
      </tr>
    </ng-template>
  </p-table>
</div>
    <div class="flex justify-center abdycustom">
      <p-button
      *ngIf="auditPrograms[0]?.status == 'Approved'"
        label="Generate Report"
        (onClick)="onSubmit()"
      ></p-button>
    </div>
  </form>
</div>
