<div>
  <form #addDivForm="ngForm" (ngSubmit)="addStamp(addDivForm)">
    <div style="margin-top: 2em"></div>
    <div class="flex justify-between">
      <div class="m-4">
        <label for="dropdown" class="block mb-2"> Select level: </label>
        <p-dropdown
          [options]="dropdownOptions"
          name="selectedDropdown"
          [(ngModel)]="selectedDropdown"
          [showClear]="true"
          placeholder="Choose level"
          styleClass="p-password"
          [required]="true"
          [style]="{ width: '250px', height: '45px' }"
        >
        </p-dropdown>
      </div>

      <div class="m-4" *ngIf="selectedDropdown === 'Sub Process'">
        <label for="hex" class="block mb-2"> Sub process: </label>
        <p-dropdown
          [options]="subProcessList"
          name="subProcessId"
          optionLabel="name"
          [filter]="true"
          [(ngModel)]="stampInfo.subProcessId"
          filterBy="name"
          [showClear]="true"
          placeholder="Choose sub process"
          styleClass="p-password"
          [required]="true"
          class="w-60 h-11 overflow-hidden overflow-ellipsis whitespace-nowrap"
        >
          <ng-template let-subProcess pTemplate="item">
            <div
              class="dropdown-item w-60 overflow-hidden overflow-ellipsis whitespace-nowrap"
              pTooltip="{{ subProcess.name }}"
              tooltipPosition="right"
            >
              <div>{{ subProcess.name }}</div>
            </div>
          </ng-template>
        </p-dropdown>
      </div>
      <div class="m-4" *ngIf="selectedDropdown === 'Process'">
        <label for="hex" class="block mb-2"> Process: </label>
        <p-dropdown
          [options]="processList"
          name="processId"
          optionLabel="name"
          [filter]="true"
          [(ngModel)]="stampInfo.processId"
          filterBy="name"
          [showClear]="true"
          placeholder="Choose process"
          styleClass="p-password"
          [required]="true"
          class="w-60 h-11 overflow-hidden overflow-ellipsis whitespace-nowrap"
        >
          <ng-template let-process pTemplate="item">
            <div
              class="dropdown-item w-60 overflow-hidden overflow-ellipsis whitespace-nowrap"
              pTooltip="{{ process.name }}"
              tooltipPosition="right"
            >
              <div>{{ process.name }}</div>
            </div>
          </ng-template>
        </p-dropdown>
      </div>
      <div class="m-4" *ngIf="selectedDropdown === 'District'">
        <label for="hex" class="block mb-2"> District: </label>
        <p-dropdown
          [options]="districtList"
          name="districtId"
          optionLabel="name"
          [filter]="true"
          [(ngModel)]="stampInfo.districtId"
          filterBy="name"
          [showClear]="true"
          placeholder="Choose district"
          styleClass="p-password"
          [required]="true"
          class="w-60 h-11 overflow-hidden overflow-ellipsis whitespace-nowrap"
        >
          <ng-template let-district pTemplate="item">
            <div
              class="dropdown-item w-60 overflow-hidden overflow-ellipsis whitespace-nowrap"
              pTooltip="{{ district.name }}"
              tooltipPosition="right"
            >
              <div>{{ district.name }}</div>
            </div>
          </ng-template>
        </p-dropdown>
      </div>
      <div class="m-4" *ngIf="selectedDropdown === 'Branch'">
        <label for="hex" class="block mb-2"> Branch: </label>
        <p-dropdown
          [options]="branchList"
          name="branchId"
          optionLabel="name"
          [filter]="true"
          [(ngModel)]="stampInfo.branchId"
          filterBy="name"
          [showClear]="true"
          placeholder="Choose branch"
          styleClass="p-password"
          [required]="true"
          class="w-60 h-11 overflow-hidden overflow-ellipsis whitespace-nowrap"
        >
          <ng-template let-branch pTemplate="item">
            <div
              class="dropdown-item w-60 overflow-hidden overflow-ellipsis whitespace-nowrap"
              pTooltip="{{ branch.name }}"
              tooltipPosition="right"
            >
              <div>{{ branch.name }}</div>
            </div>
          </ng-template>
        </p-dropdown>
      </div>
      <div class="m-4" *ngIf="selectedDropdown === 'Team'">
        <label for="hex" class="block mb-2"> Team: </label>
        <p-dropdown
          [options]="teamList"
          name="teamId"
          optionLabel="externalName"
          [filter]="true"
          [(ngModel)]="stampInfo.teamId"
          filterBy="externalName"
          [showClear]="true"
          placeholder="Choose team"
          styleClass="p-password"
          [required]="true"
          class="w-60 h-11 overflow-hidden overflow-ellipsis whitespace-nowrap"
        >
          <ng-template let-team pTemplate="item">
            <div
              class="dropdown-item w-60 overflow-hidden overflow-ellipsis whitespace-nowrap"
              pTooltip="{{ team.externalName }}"
              tooltipPosition="right"
            >
              <div>{{ team.externalName }}</div>
            </div>
          </ng-template>
        </p-dropdown>
      </div>
    </div>
    <div class="photo-container m-4 md:w-1/2">
      <div class="photo-preview">
        <img
          *ngIf="imageURL; else noImage"
          [src]="imageURL"
          alt="Photo to display to public"
        />
        <ng-template #noImage>
          <p>Stamp image</p>
        </ng-template>
      </div>
      <div class="form-group">
        <input
          type="file"
          class="form-control"
          id="stamp"
          name="stamp"
          accept="image/*"
          (change)="onFileSelected($event)"
        />
      </div>
    </div>

    <div style="margin-top: 10em"></div>
    <div class="flex justify-between">
      <p-button label="Cancel" (click)="closeDialog()"></p-button>
      <p-button type="submit" [disabled]="!addDivForm.valid || !imageURL" label="Create stamp"></p-button>
    </div>
  </form>
</div>
